<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Madhuban Murli Audio Library (2019‚Äì2025)</title>

  <style>
    html {
      scroll-behavior: smooth;
    }

    :root {
      --bg-color: #f5f5f5;
      --text-color: #111111;
      --card-bg: #ffffff;
      --month-bg: #fafafa;
      --border-color: #dddddd;
      --shadow-color: rgba(0, 0, 0, 0.08);

      --day-bg: #e7f3ff;
      --day-hover-bg: #d0e7ff;
      --day-border: #cccccc;
      --day-text: #111111;

      --selected-bg: #2563eb;
      --selected-text: #ffffff;
      --selected-border: #1d4ed8;

      --accent: #2563eb;
      --accent-soft: #e0edff;

      --button-bg: #2563eb;
      --button-text: #ffffff;
      --button-hover-bg: #1d4ed8;
    }

    /* Light Theme */
    body.theme-light {
      --bg-color: #f5f5f5;
      --text-color: #111111;
      --card-bg: #ffffff;
      --month-bg: #fafafa;
      --border-color: #dddddd;
      --shadow-color: rgba(0, 0, 0, 0.08);
      --day-bg: #e7f3ff;
      --day-hover-bg: #d0e7ff;
      --day-border: #cccccc;
      --day-text: #111111;
      --selected-bg: #2563eb;
      --selected-text: #ffffff;
      --selected-border: #1d4ed8;
      --accent: #2563eb;
      --accent-soft: #e0edff;
      --button-bg: #2563eb;
      --button-text: #ffffff;
      --button-hover-bg: #1d4ed8;
    }

    /* Dark Theme */
    body.theme-dark {
      --bg-color: #111827;
      --text-color: #e5e7eb;
      --card-bg: #1f2937;
      --month-bg: #111827;
      --border-color: #374151;
      --shadow-color: rgba(0, 0, 0, 0.4);
      --day-bg: #1f2937;
      --day-hover-bg: #374151;
      --day-border: #4b5563;
      --day-text: #e5e7eb;
      --selected-bg: #fbbf24;
      --selected-text: #111827;
      --selected-border: #f59e0b;
      --accent: #fbbf24;
      --accent-soft: #4b5563;
      --button-bg: #4b5563;
      --button-text: #f9fafb;
      --button-hover-bg: #6b7280;
    }

    /* Divine Blue Theme */
    body.theme-divine {
      --bg-color: #e6f0ff;
      --text-color: #0b1120;
      --card-bg: #ffffff;
      --month-bg: #edf2ff;
      --border-color: #c7d2fe;
      --shadow-color: rgba(59, 130, 246, 0.18);
      --day-bg: #dbeafe;
      --day-hover-bg: #bfdbfe;
      --day-border: #93c5fd;
      --day-text: #0b1120;
      --selected-bg: #1d4ed8;
      --selected-text: #ffffff;
      --selected-border: #1e40af;
      --accent: #1d4ed8;
      --accent-soft: #dbeafe;
      --button-bg: #1d4ed8;
      --button-text: #ffffff;
      --button-hover-bg: #1e40af;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 10px;
      background: var(--bg-color);
      color: var(--text-color);
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
    }

    /* Topbar */
    #topbar {
      max-width: 1200px;
      margin: 0 auto 15px auto;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 10px;
    }

    .left-controls, .right-controls {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* Year Links Bar */
    #year-links {
      max-width: 1200px;
      margin: 0 auto 15px auto;
      background: var(--card-bg);
      padding: 10px;
      border-radius: 6px;
      border: 1px solid var(--border-color);
      text-align: center;
      box-shadow: 0 1px 4px var(--shadow-color);
    }

    #year-links a {
      margin: 0 10px;
      font-weight: bold;
      text-decoration: none;
      color: var(--accent);
      font-size: 14px;
    }

    /* Calendar Grid */
    .months {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
    }

    /* Mobile = 1 month per row */
    @media (max-width: 900px) {
      .months {
        grid-template-columns: 1fr;
      }
    }

    .year {
      background: var(--card-bg);
      padding: 10px;
      border-radius: 6px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
      box-shadow: 0 1px 4px var(--shadow-color);
    }

    .month {
      background: var(--month-bg);
      padding: 8px;
      border-radius: 6px;
      border: 1px solid var(--border-color);
    }

    .month h3 {
      text-align: center;
      margin: 5px 0;
      font-size: 15px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 11px;
    }

    th {
      padding: 3px;
    }

    td {
      padding: 3px;
      text-align: center;
    }

    button.day-btn {
      width: 100%;
      padding: 4px;
      border-radius: 4px;
      background: var(--day-bg);
      border: 1px solid var(--day-border);
      cursor: pointer;
      color: var(--day-text);
    }

    button.day-btn:hover {
      background: var(--day-hover-bg);
    }

    button.day-btn.selected {
      background: var(--selected-bg);
      color: var(--selected-text);
      border-color: var(--selected-border);
      font-weight: bold;
    }

    .jump-top {
      text-align: right;
      margin-top: 6px;
    }

    .jump-top a {
      font-size: 12px;
      font-weight: bold;
      color: var(--accent);
      text-decoration: none;
    }

    /* Audio Player */
    #player {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      background: var(--card-bg);
      border-radius: 6px;
      border: 1px solid var(--border-color);
      box-shadow: 0 1px 3px var(--shadow-color);
      text-align:center;
    }

    audio {
      width: 100%;
    }

    .download-btn {
      display: none;
      margin-top: 10px;
      padding: 6px 12px;
      background: var(--button-bg);
      color: var(--button-text);
      border-radius:4px;
      text-decoration:none;
    }
  </style>
</head>

<body class="theme-light" id="top">

<h1>Madhuban Murli Audio Library (2019‚Äì2025)</h1>

<!-- Topbar Section -->
<div id="topbar">
  <div class="left-controls">
    <label><strong>Language:</strong></label>
    <select id="language">
      <option value="as">‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ (Assamese)</option>
      <option value="de">Deutsch (German)</option>
      <option value="el">ŒµŒªŒªŒ∑ŒΩŒπŒ∫Œ¨ (Greek)</option>
      <option value="en">English</option>
      <option value="es">Espa√±ol (Spanish)</option>
      <option value="fr">Fran√ßais (French)</option>
      <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä (Gujarati)</option>
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
      <option value="it">Italiano (Italian)</option>
      <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤° (Kannada)</option>
      <option value="ml" selected>‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç (Malayalam)</option>
      <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)</option>
      <option value="ne">‡§®‡•á‡§™‡§æ‡§≤‡•Ä (Nepali)</option>
      <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü (Odia)</option>
      <option value="pl">Polskie (Polish)</option>
      <option value="pt">Portugu√™s (Portuguese)</option>
      <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä (Punjabi)</option>
      <option value="ro">Rom√¢nƒÉ (Romanian)</option>
      <option value="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω (Sinhala)</option>
      <option value="ta_my">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (‡Æö‡ØÜ‡Æ©‡Øç‡Æ©‡Øà)</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà)</option>
      <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
      <option value="th">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ (Thai)</option>
    </select>
  </div>

  <div class="right-controls">
    <label style="font-size:12px;">Go to date:</label>
    <input type="date" id="date-input" min="2019-01-01" max="2025-12-31">
    <button id="go-date">Go</button>

    <div id="theme-switcher">
      <button class="theme-btn active" data-theme="light">üåû Light</button>
      <button class="theme-btn" data-theme="dark">üåô Dark</button>
      <button class="theme-btn" data-theme="divine">üî∑ Divine Blue</button>
    </div>
  </div>
</div>

<!-- YEAR LINKS BAR -->
<div id="year-links">
  <a href="#y2019">2019</a>
  <a href="#y2020">2020</a>
  <a href="#y2021">2021</a>
  <a href="#y2022">2022</a>
  <a href="#y2023">2023</a>
  <a href="#y2024">2024</a>
  <a href="#y2025">2025</a>
</div>

<!-- Calendar Container -->
<div id="calendar"></div>

<!-- Player -->
<div id="player">
  <p id="selected-date">Click any valid date to play its Murli.</p>
  <audio id="audio" controls></audio>
  <a id="download-btn" class="download-btn" href="#" download>Download MP3</a>
</div>
<p id="audio-help" style="margin-top:12px; font-size:13px; color:#cc0000; text-align:center; display:none;">
  If the audio is not playing, please check the following:<br>
  1. Ensure your phone's audio is not muted.<br>
  2. The Murli file for this specific date may not be available.
</p>

  

<footer style="text-align:center;color:#777">
  designed by https://divine-connectionz.com
</footer>

<script>
  const startDate = new Date(2019,0,1);
  const endDate   = new Date(2025,11,31);

  const monthNames=[
    "January","February","March","April","May","June",
    "July","August","September","October","November","December"
  ];

  const dayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];

  const pad=n=>String(n).padStart(2,"0");

  const langNames={
    "ta_my":"Tamil","ta":"Tamil-Lanka","en":"English","hi":"Hindi","ml":"Malayalam",
    "te":"Telugu","kn":"Kannada","mr":"Marathi","gu":"Gujarati","pa":"Punjabi","si":"Sinhala",
    "ne":"Nepali","as":"Assamese","or":"Odia","fr":"French","es":"Spanish","de":"German",
    "it":"Italian","pl":"Polish","pt":"Portuguese","ro":"Romanian","el":"Greek","th":"Thai"
  };

  let lastSelectedBtn=null;

  function isWithinRange(y,m,d){
    const dt=new Date(y,m,d);
    return dt>=startDate && dt<=endDate;
  }

  function createCalendar(){
    const container=document.getElementById("calendar");

    for(let year=2019;year<=2025;year++){
      
      const yearBox=document.createElement("section");
      yearBox.className="year";
      yearBox.id="y"+year;

      const h2=document.createElement("h2");
      h2.textContent=year;
      yearBox.appendChild(h2);

      const months=document.createElement("div");
      months.className="months";

      for(let month=0;month<12;month++){

        const monthDiv=document.createElement("div");
        monthDiv.className="month";

        const h3=document.createElement("h3");
        h3.textContent=monthNames[month];
        monthDiv.appendChild(h3);

        const table=document.createElement("table");
        const thead=document.createElement("thead");
        const trh=document.createElement("tr");

        dayNames.forEach(d=>{
          const th=document.createElement("th");
          th.textContent=d;
          trh.appendChild(th);
        });

        thead.appendChild(trh);
        table.appendChild(thead);

        const tbody=document.createElement("tbody");

        const firstDay=new Date(year,month,1).getDay();
        const daysInMonth=new Date(year,month+1,0).getDate();

        let day=1;

        for(let week=0;week<6;week++){
          const tr=document.createElement("tr");

          for(let dow=0;dow<7;dow++){
            const td=document.createElement("td");

            if(week===0 && dow<firstDay){
              td.className="empty";

            } else if(day>daysInMonth){
              td.className="empty";

            } else {
              if(isWithinRange(year,month,day)){

                (function(y,m,d){
                  const btn=document.createElement("button");
                  btn.className="day-btn";
                  btn.textContent=d;
                  btn.dataset.date=`${y}-${pad(m+1)}-${pad(d)}`;

                  btn.onclick=function(){
                    if(lastSelectedBtn){
                      lastSelectedBtn.classList.remove("selected");
                    }
                    btn.classList.add("selected");
                    lastSelectedBtn=btn;

                    const lang=document.getElementById("language").value;
                    const langText=langNames[lang]||lang;

                    const url=
                      `https://murli.madhuban.org/murlis/${lang}/mp3/murli-${y}-${pad(m+1)}-${pad(d)}.mp3`;

                    document.getElementById("selected-date").textContent=
                      `Playing: ${pad(d)}-${pad(m+1)}-${y} (${langText})`;

                    const audio=document.getElementById("audio");
                    audio.src=url;

                    audio.play(); // ‚≠ê AUTO PLAY
                    audio.onerror = function () {
                      document.getElementById("audio-help").style.display = "block";
                    };

                    audio.onplay = function () {
                      document.getElementById("audio-help").style.display = "none";
                    };

                    document.getElementById("player").scrollIntoView({behavior:"smooth"}); // ‚≠ê SCROLL

                    const downloadLink=document.getElementById("download-btn");
                    downloadLink.href=url;
                    downloadLink.style.display="inline-block";
                  };

                  td.appendChild(btn);
                })(year,month,day);

              } else {
                td.textContent=day;
              }

              day++;
            }

            tr.appendChild(td);
          }

          tbody.appendChild(tr);
          if(day>daysInMonth) break;
        }

        table.appendChild(tbody);
        monthDiv.appendChild(table);

        if(month===11){
          const jump=document.createElement("div");
          jump.className="jump-top";
          jump.innerHTML=`<a href="#top">‚¨Ü Go Top</a>`;
          monthDiv.appendChild(jump);
        }

        months.appendChild(monthDiv);
      }

      yearBox.appendChild(months);
      container.appendChild(yearBox);
    }
  }

  createCalendar();

  // SEARCH
  document.getElementById("go-date").onclick=function(){
    const value=document.getElementById("date-input").value;
    if(!value){
      alert("Select a date.");
      return;
    }

    const btn=document.querySelector(`button.day-btn[data-date="${value}"]`);
    if(!btn){
      alert("No audio for this date");
      return;
    }

    btn.click();
    btn.scrollIntoView({behavior:"smooth",block:"center"});
  };

  // THEME SWITCHER
  document.querySelectorAll(".theme-btn").forEach(btn=>{
    btn.onclick=function(){
      document.body.classList.remove("theme-light","theme-dark","theme-divine");
      document.body.classList.add("theme-"+btn.dataset.theme);
      document.querySelectorAll(".theme-btn")
        .forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      localStorage.setItem("murliTheme",btn.dataset.theme);
    };
  });

  const saved=localStorage.getItem("murliTheme");
  if(saved){
    document.body.classList.remove("theme-light","theme-dark","theme-divine");
    document.body.classList.add("theme-"+saved);
    document.querySelector(`.theme-btn[data-theme="${saved}"]`)
      ?.classList.add("active");
  }

</script>

</body>
</html>
